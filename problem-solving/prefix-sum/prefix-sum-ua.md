# Патерн Prefix Sum

## Суть патерну

**Prefix Sum** — це базовий алгоритмічний патерн, який дозволяє ефективно обчислювати суму елементів у підмасиві або перевіряти умови, повʼязані з підсумками, використовуючи попередньо обчислену інформацію.

Цей підхід особливо корисний, коли потрібно:

- багаторазово отримувати суму в діапазоні
- знайти підмасив із певною сумою
- порівняти “ліву” та “праву” частини масиву
- працювати з накопиченими (кумулятивними) значеннями

## Коли використовувати Prefix Sum

- Потрібно багаторазово обчислювати суму підмасиву
- Необхідно знайти підмасив, де сума дорівнює N
- Потрібна перевірка балансу лівої та правої частин масиву
- Оптимізація з O(n²) до O(n)
- Обробка діапазонів у матрицях або великих масивах

## Заготівка (Skeleton)

### 1. Обчислення префіксної суми:

```ts
const prefix = new Array(nums.length + 1).fill(0);

for (let i = 0; i < nums.length; i++) {
  prefix[i + 1] = prefix[i] + nums[i];
}

```
Отримання суми підмасиву i → j:

```ts
const rangeSum = prefix[j + 1] - prefix[i];

```

Порівняння суми лівої і правої частин:

```ts
const totalSum = nums.reduce((acc, n) => acc + n, 0);
let leftSum = 0;

for (let i = 0; i < nums.length; i++) {
    const rightSum = totalSum - leftSum - nums[i];

    if (leftSum === rightSum) return i;
    leftSum += nums[i];
}
return -1;

```

Приклади задач
Find Pivot Index — знайти індекс, де сума ліворуч дорівнює сумі праворуч

Running Sum of 1D Array — базове використання префіксної суми

Subarray Sum Equals K — знайти кількість підмасивів із сумою K

Range Sum Query – Immutable — швидкі запити підсумків

Maximum Size Subarray Sum Equals k — найбільший підмасив з певною сумою

